<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#4fcde3"><meta name="author" content="è½èŠ±ç”Ÿ"><meta name="copyright" content="è½èŠ±ç”Ÿ"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Spring Boot å­¦ä¹ ç¬”è®° | å”¯è½èŠ±ç”Ÿ</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-okaidia.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon.png"><link rel="mask-icon" href="/favicon.png" color="#4fcde3"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"dbin.top","root":"/","title":["è½","èŠ±","ç”Ÿ","çš„","å°","ç«™"],"version":"1.6.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.json"},"fireworks":{"colors":["0, 0, 0","255, 255, 255","128, 128, 128","201, 4, 17"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="//at.alicdn.com/t/font_2648851_os7f9jxepo.js" async></script><script src="/girlss/autoload.js" async></script><meta name="description" content="ç¬¬ä¸€ä¸ªSpring Booté¡¹ç›®é…ç½®ä¾èµ–pom.xml&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt; &lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;          xsi:schemaLoca">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://dbin.top/2022/03/02/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Spring%20Boot%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="å”¯è½èŠ±ç”Ÿ">
<meta property="og:description" content="ç¬¬ä¸€ä¸ªSpring Booté¡¹ç›®é…ç½®ä¾èµ–pom.xml&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt; &lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;          xsi:schemaLoca">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-03-01T16:27:57.000Z">
<meta property="article:modified_time" content="2022-03-17T13:28:33.825Z">
<meta property="article:author" content="è½èŠ±ç”Ÿ">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="å¼€å‘">
<meta property="article:tag" content="Servlet">
<meta property="article:tag" content="åç«¯">
<meta property="article:tag" content="Spring Boot">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="è½èŠ±ç”Ÿ"><img width="96" loading="lazy" src="http://dbins.gitee.io/image/head/head.jpg" alt="è½èŠ±ç”Ÿ"><span class="site-author-status" title="å¼€å¿ƒæ¯ä¸€å¤©">ğŸ¥°</span></a><div class="site-author-name"><a href="/about/">è½èŠ±ç”Ÿ</a></div><a class="site-name" href="/about/site.html">å”¯è½èŠ±ç”Ÿ</a><sub class="site-subtitle">improve oneself</sub><div class="site-desciption">èŠ±ç”Ÿæœ‰ä¸ªé•¿åœ¨æå¤´çš„ç†æƒ³å—ï¼Ÿ</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-guidang"></use></svg></span><span class="site-state-item-count">44</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg></span><span class="site-state-item-count">27</span></a></div><a class="site-state-item hty-icon-button" href="/others/index.html" title="others"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-shezhi1"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:wanmujun@aliyun.com" title="E-Mail" target="_blank" style="color:undefined"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-icon-test"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:beifen404@gmail.com" title="å¤‡ç”¨é‚®ç®±" target="_blank" style="color:undefined"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-youxiang4"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=1&amp;tn=baidu&amp;wd=%E6%A1%83%E5%AD%90" title="Twitter" target="_blank" style="color:undefined"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="frends" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-men-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AASpring-Boot%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬ä¸€ä¸ªSpring Booté¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BE%9D%E8%B5%96pom-xml"><span class="toc-number">1.1.</span> <span class="toc-text">é…ç½®ä¾èµ–pom.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%BB%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">åˆ›å»ºä¸»ç¨‹åºå¯åŠ¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%A4%84%E7%90%86%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">åˆ›å»ºå¤„ç†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IDEA%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="toc-number">1.4.</span> <span class="toc-text">IDEAçƒ­éƒ¨ç½²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">æµ‹è¯•ç±»çš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-Boot-%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%B3%A8%E8%A7%A3"><span class="toc-number">2.</span> <span class="toc-text">Spring Boot æ ¸å¿ƒé…ç½®ä¸æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6application-properties-%E4%B8%8E-application-yaml"><span class="toc-number">2.1.</span> <span class="toc-text">å…¨å±€é…ç½®æ–‡ä»¶application.properties ä¸ application.yaml</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#application-proprities"><span class="toc-number">2.1.1.</span> <span class="toc-text">application.proprities</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#application-yaml"><span class="toc-number">2.1.2.</span> <span class="toc-text">application.yaml</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.</span> <span class="toc-text">é…ç½®æ–‡ä»¶å±æ€§å€¼çš„æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Value%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7"><span class="toc-number">2.2.1.</span> <span class="toc-text">ä½¿ç”¨@Valueæ³¨å…¥å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%B3%A8%E8%A7%A3%E5%AF%B9%E6%AF%94"><span class="toc-number">2.2.2.</span> <span class="toc-text">ä¸¤ç§æ³¨è§£å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="toc-number">2.3.</span> <span class="toc-text">è‡ªå®šä¹‰é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-PropertySource%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.1.</span> <span class="toc-text">ä½¿ç”¨@PropertySourceåŠ è½½é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-ImportResource%E5%8A%A0%E8%BD%BDXML%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.2.</span> <span class="toc-text">ä½¿ç”¨@ImportResourceåŠ è½½XMLé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Configuration%E7%BC%96%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">2.3.3.</span> <span class="toc-text">ä½¿ç”¨@Configurationç¼–å†™è‡ªå®šä¹‰é…ç½®ç±»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profile%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">2.4.</span> <span class="toc-text">Profileå¤šç¯å¢ƒé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Profile%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.1.</span> <span class="toc-text">ä½¿ç”¨Profileæ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Profile%E6%B3%A8%E8%A7%A3"><span class="toc-number">2.4.2.</span> <span class="toc-text">ä½¿ç”¨@Profileæ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E5%80%BC%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E5%8F%82%E6%95%B0%E5%BC%95%E7%94%A8"><span class="toc-number">2.4.3.</span> <span class="toc-text">éšæœºå€¼è®¾ç½®ä»¥åŠå‚æ•°å¼•ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-number">2.4.4.</span> <span class="toc-text">æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">2.4.5.</span> <span class="toc-text">é…ç½®å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">2.4.6.</span> <span class="toc-text">åˆ›å»ºé…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AF%B9%E5%BA%94%E7%9A%84%E7%B1%BB"><span class="toc-number">2.4.7.</span> <span class="toc-text">åˆ›å»ºå’Œæ•°æ®åº“ä¸­æ•°æ®ç±»å‹å¯¹åº”çš„ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%95%B4%E5%90%88MyBatis"><span class="toc-number">2.4.8.</span> <span class="toc-text">ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMapper%E6%8E%A5%E5%8F%A3%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.8.1.</span> <span class="toc-text">åˆ›å»ºMapperæ¥å£æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B5%8B%E8%AF%95%E7%B1%BB%E6%B5%8B%E8%AF%95"><span class="toc-number">2.4.8.2.</span> <span class="toc-text">ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%95%B4%E5%90%88MyBatis"><span class="toc-number">2.5.</span> <span class="toc-text">ä½¿ç”¨é…ç½®æ–‡ä»¶æ•´åˆMyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAArticleMapper%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.5.1.</span> <span class="toc-text">åˆ›å»ºArticleMapperæ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">2.5.2.</span> <span class="toc-text">åˆ›å»ºæ˜ å°„æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E6%96%87%E4%BB%B6%EF%BC%8C%E9%85%8D%E7%BD%AEXML%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">2.5.3.</span> <span class="toc-text">é…ç½®å…¨å±€æ–‡ä»¶ï¼Œé…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">2.5.4.</span> <span class="toc-text">æµ‹è¯•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-boot-%E8%A7%86%E5%9B%BE%E6%8A%80%E6%9C%AF"><span class="toc-number">3.</span> <span class="toc-text">Spring boot è§†å›¾æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Thymeleaf%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text">ThymeleafåŸºæœ¬è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.1.</span> <span class="toc-text">æ ‡å‡†è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%8F%98%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.2.</span> <span class="toc-text">é€‰æ‹©å˜é‡è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.3.</span> <span class="toc-text">è¿æ¥è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%87%E6%AE%B5%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.4.</span> <span class="toc-text">ç‰‡æ®µè¡¨è¾¾å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Thymeleaf%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">ThymeleafåŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="toc-number">3.2.1.</span> <span class="toc-text">é™æ€é¡µé¢çš„è®¿é—®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Thymeleaf"><span class="toc-number">3.2.2.</span> <span class="toc-text">ä½¿ç”¨Thymeleaf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Thymeleaf%E9%85%8D%E7%BD%AE%E5%9B%BD%E9%99%85%E5%8C%96%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.2.3.</span> <span class="toc-text">ä½¿ç”¨Thymeleafé…ç½®å›½é™…åŒ–é¡µé¢</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://dbin.top/2022/03/02/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Spring%20Boot%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="è½èŠ±ç”Ÿ"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å”¯è½èŠ±ç”Ÿ"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring Boot å­¦ä¹ ç¬”è®°</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-03-02 00:27:57" itemprop="dateCreated datePublished" datetime="2022-03-02T00:27:57+08:00">2022-03-02</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-03-17 21:28:33" itemprop="dateModified" datetime="2022-03-17T21:28:33+08:00">2022-03-17</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">23m</span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="è¯„è®ºæ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg> <span class="waline-comment-count" id="/2022/03/02/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Spring%20Boot%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"></span></span></a><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0/" style="--text-color:#007EFF" itemprop="url" rel="index"><span itemprop="text">å­¦ä¹ </span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/" style="--text-color:#28d8f7" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Java/" style="--text-color:#FF1CAE"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Java</span></a><a class="tag-item" href="/tags/%E5%BC%80%E5%8F%91/" style="--text-color:blue"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å¼€å‘</span></a><a class="tag-item" href="/tags/Servlet/" style="--text-color:#DAA520"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Servlet</span></a><a class="tag-item" href="/tags/%E5%90%8E%E7%AB%AF/" style="--text-color:#1E90FF"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">åç«¯</span></a><a class="tag-item" href="/tags/Spring-Boot/" style="--text-color:#228B22"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Spring Boot</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#4fcde3;"><h2 id="ç¬¬ä¸€ä¸ªSpring-Booté¡¹ç›®"><a href="#ç¬¬ä¸€ä¸ªSpring-Booté¡¹ç›®" class="headerlink" title="ç¬¬ä¸€ä¸ªSpring Booté¡¹ç›®"></a>ç¬¬ä¸€ä¸ªSpring Booté¡¹ç›®</h2><h3 id="é…ç½®ä¾èµ–pom-xml"><a href="#é…ç½®ä¾èµ–pom-xml" class="headerlink" title="é…ç½®ä¾èµ–pom.xml"></a>é…ç½®ä¾èµ–<code>pom.xml</code></h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--spring-boot-start-parentä¾èµ–ï¼Œçˆ¶é¡¹ç›®ä¾èµ–ç®¡ç†--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.3.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- lookup parent from repository --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--webæ¨¡å—ä¾èµ–å¯åŠ¨å™¨--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--æµ‹è¯•ç±»ä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--çƒ­éƒ¨ç½²ä¾èµ–å¯åŠ¨å™¨--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--tomcatä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--Maven æ‰“åŒ…å·¥å…·æ’ä»¶--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.6.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="åˆ›å»ºä¸»ç¨‹åºå¯åŠ¨ç±»"><a href="#åˆ›å»ºä¸»ç¨‹åºå¯åŠ¨ç±»" class="headerlink" title="åˆ›å»ºä¸»ç¨‹åºå¯åŠ¨ç±»"></a>åˆ›å»º<code>ä¸»ç¨‹åºå¯åŠ¨ç±»</code></h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span> <span class="token comment">//æ ‡è®°ä¸»ç¨‹åºå¯åŠ¨ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chapter01Application</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//ä¸»ç¨‹åºå¯åŠ¨æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Chapter01Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="åˆ›å»ºå¤„ç†ç±»"><a href="#åˆ›å»ºå¤„ç†ç±»" class="headerlink" title="åˆ›å»ºå¤„ç†ç±»"></a>åˆ›å»ºå¤„ç†ç±»</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>chapter01<span class="token punctuation">.</span>controller</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span> <span class="token comment">//å°†å½“å‰ç±»ä½œä¸ºæ§åˆ¶å±‚ç»„ä»¶æ·»åŠ åˆ°Springå®¹å™¨ä¸­,ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•åªèƒ½è¿”å›Stringã€Objectã€Jsonç­‰å®ä½“å¯¹è±¡ï¼Œä¸èƒ½è·³è½¬åˆ°æ¨¡ç‰ˆé¡µé¢</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®è®¿é—®è·¯å¾„å’Œæ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"hello Spring"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/hellos"</span><span class="token punctuation">)</span><span class="token comment">//Postæ–¹æ³•è·¯å¾„æ˜ å°„</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hellos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"hello hello Spring"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ­¤æ—¶è¿è¡Œé¡¹ç›®å°±å¯ä»¥è¯·æ±‚<code>localhost:ç«¯å£å·/hello</code>,å’Œ<code>localhost:ç«¯å£å·/hello</code></p>
<h3 id="IDEAçƒ­éƒ¨ç½²"><a href="#IDEAçƒ­éƒ¨ç½²" class="headerlink" title="IDEAçƒ­éƒ¨ç½²"></a>IDEAçƒ­éƒ¨ç½²</h3><p>æ·»åŠ çƒ­éƒ¨ç½²ä¾èµ–</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨IDEAçš„<code>File | Settings | Build, Execution, Deployment | Compiler</code>ä¸­æ‰¾åˆ°<code>Build project automatically</code>å‹¾é€‰ã€‚</p>
<p>ä»»æ„ç•Œé¢æŒ‰ç»„åˆé”®<code>Ctrl+Shift+Alt+/</code>æ‰“å¼€Maintenanceé€‰é¡¹æ¡†ï¼Œæ‰“å¼€Registryé¡µé¢ï¼Œå‹¾é€‰<code>compiler.automake.allow.when.app.runing</code></p>
<p>å¦‚æœåœ¨ä¸Šä¸€æ­¥ä¸­æ²¡æœ‰æ‰¾åˆ°é€‰é¡¹å¯ä»¥åœ¨<code>File | Settings | Advanced Settings</code>ä¸­å‹¾é€‰<code>Allow auto-make to start even if developed application is currently running</code></p>
<p>æœ€åç‚¹å‡»è¿è¡Œ(æ˜¯runä¸æ˜¯debug)å°±å¯ä»¥ä½¿ç”¨çƒ­éƒ¨ç½²äº†</p>
<h3 id="æµ‹è¯•ç±»çš„ä½¿ç”¨"><a href="#æµ‹è¯•ç±»çš„ä½¿ç”¨" class="headerlink" title="æµ‹è¯•ç±»çš„ä½¿ç”¨"></a>æµ‹è¯•ç±»çš„ä½¿ç”¨</h3><p>åœ¨<code>test</code>ä¸­ä¸ä¸»ç¨‹åºå¯åŠ¨ç±»ç›¸åŒçš„åŒ…ä¸‹åˆ›å»ºTestsç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>chapter01<span class="token punctuation">.</span>controller<span class="token punctuation">.</span></span><span class="token class-name">HelloController</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringRunner</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment">//æµ‹è¯•è¿è¡Œå™¨ï¼Œå¹¶åŠ è½½åˆ°SpringBootTestæµ‹è¯•æ³¨è§£</span>
<span class="token annotation punctuation">@SpringBootTest</span> <span class="token comment">//æ ‡è®°æµ‹è¯•å•å…ƒ</span>
<span class="token keyword">class</span> <span class="token class-name">Chapter01ApplicationTests</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è‡ªåŠ¨åˆ›å»ºçš„å•å…ƒæµ‹è¯•æ–¹æ³•ç¤ºä¾‹</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">HelloController</span> helloController<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloController<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œtestç±»ï¼Œå³å¯åœ¨æ§åˆ¶å°æŸ¥çœ‹åˆ°è¾“å‡ºhello</p>
<h2 id="Spring-Boot-æ ¸å¿ƒé…ç½®ä¸æ³¨è§£"><a href="#Spring-Boot-æ ¸å¿ƒé…ç½®ä¸æ³¨è§£" class="headerlink" title="Spring Boot æ ¸å¿ƒé…ç½®ä¸æ³¨è§£"></a>Spring Boot æ ¸å¿ƒé…ç½®ä¸æ³¨è§£</h2><h3 id="å…¨å±€é…ç½®æ–‡ä»¶application-properties-ä¸-application-yaml"><a href="#å…¨å±€é…ç½®æ–‡ä»¶application-properties-ä¸-application-yaml" class="headerlink" title="å…¨å±€é…ç½®æ–‡ä»¶application.properties ä¸ application.yaml"></a>å…¨å±€é…ç½®æ–‡ä»¶<code>application.properties</code> ä¸ <code>application.yaml</code></h3><p>å…¨å±€æ–‡ä»¶èƒ½å¯¹ä¸€äº›é»˜è®¤é…ç½®å€¼è¿›è¡Œä¿®æ”¹,spring bootä½¿ç”¨<code>application.properties</code> ä¸ <code>application.yaml</code>ä½œä¸ºå…¨å±€é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶æ”¾åœ¨<code>src/main/resource</code>ç›®å½•æˆ–ç±»è·¯å¾„çš„<code>config</code></p>
<p>ä¸ºäº†åœ¨å†™é…ç½®æ—¶æœ‰ç›¸å…³æç¤ºï¼ŒåŠ å…¥é…ç½®ä¾èµ–ã€‚</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="application-proprities"><a href="#application-proprities" class="headerlink" title="application.proprities"></a><code>application.proprities</code></h4><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#æœåŠ¡å™¨åº”ç»‘å®šåˆ°çš„ç½‘ç»œåœ°å€</span>
<span class="token attr-name">server.address</span><span class="token punctuation">=</span><span class="token attr-value">80</span>
<span class="token comment">#æœåŠ¡å™¨ HTTP ç«¯å£ã€‚</span>
<span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080 </span>
<span class="token comment">#JDBC é©±åŠ¨ç¨‹åºçš„å®Œå…¨é™å®šåã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¹æ® URL è‡ªåŠ¨æ£€æµ‹ã€‚</span>
<span class="token attr-name">spring.datasource.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.jdbc.Driver</span>
<span class="token comment">#é™¤é»˜è®¤å€¼å¤–è¿˜ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ä½ç½®ã€‚</span>
<span class="token attr-name">spring.config.additional-location</span><span class="token punctuation">=</span>
<span class="token comment">#æ›¿æ¢é»˜è®¤å€¼çš„é…ç½®æ–‡ä»¶ä½ç½®</span>
<span class="token attr-name">spring.config.location</span><span class="token punctuation">=</span>
<span class="token comment">#é…ç½®æ–‡ä»¶åã€‚</span>
<span class="token attr-name">spring.config.name</span><span class="token punctuation">=</span><span class="token attr-value">application</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>åˆ›å»º<code>Pet</code>ç±»å’Œ<code>Person</code>ç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pet</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">//æ­¤å¤„ç•¥å†™to_stringæ–¹æ³•å’Œå„ä¸ªæˆå‘˜å˜é‡çš„getter,setter</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> family<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Pet</span> pet<span class="token punctuation">;</span>
    <span class="token comment">//æ­¤å¤„ç•¥å†™toStringæ–¹æ³•å’Œå„ä¸ªæˆå‘˜å˜é‡çš„getter,setter</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨<code>application.proprities</code>ä¸­é…ç½®</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">person.id</span><span class="token punctuation">=</span><span class="token attr-value">1</span>
<span class="token attr-name">person.name</span><span class="token punctuation">=</span><span class="token attr-value">tomcat</span>
<span class="token attr-name">person.famliy</span><span class="token punctuation">=</span><span class="token attr-value">father</span>
<span class="token attr-name">person.pet.type</span><span class="token punctuation">=</span><span class="token attr-value">dog</span>
<span class="token attr-name">person.pet.name</span><span class="token punctuation">=</span><span class="token attr-value">bob</span>
<span class="token comment">#å¦‚æœå­˜åœ¨Mapç±»å‹,åˆ™ä½¿ç”¨</span>
<span class="token comment">#person.map.key1=value2</span>
<span class="token comment">#person.map.key2=value2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¼–å†™æµ‹è¯•ç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chapter02ApplicationTests</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Person</span> person<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œæµ‹è¯•ç±»ä¼šè‡ªåŠ¨è°ƒç”¨toString()æ–¹æ³•å¹¶è¾“å‡ºï¼Œå¯å‘ç°personçš„å„ç§å±æ€§å·²ç»èµ‹å€¼ã€‚</p>
<h4 id="application-yaml"><a href="#application-yaml" class="headerlink" title="application.yaml"></a><code>application.yaml</code></h4><p>ç¼–å†™ç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"relation"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Relationship</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span>  map<span class="token punctuation">;</span> <span class="token comment">//å¯ä»¥å®šä¹‰map é”®å’Œå€¼çš„ç±»å‹ï¼Œæ¯”å¦‚String</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span> <span class="token class-name">People</span><span class="token punctuation">;</span>
    <span class="token comment">//çœç•¥getter,setter,toString.</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é…ç½®<code>yaml</code>é‡åˆ°Mapæ—¶<code>:</code>Â·åè¦æœ‰ç©ºæ ¼ï¼Œé”®ä¸èƒ½ç”¨ä¸­æ–‡ï¼Œä½†æ˜¯å€¼å¯ä»¥ã€‚</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">relation</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> å…³ç³»å›¾1
  <span class="token comment">#è¿™ç§å½¢å¼çš„é…ç½®mapåœ¨é”®ã€å€¼ä¸­éƒ½ä¸èƒ½å‡ºç°è‹±æ–‡(åŠè§’)é€—å·å·,ä¸­æ–‡(å…¨è§’)å¯ä»¥,ä½†æ˜¯åœ¨é”®ä¸­çš„,?ç­‰å…¨è§’æˆ–åŠè§’ç¬¦å·ä¼šè¢«å¿½ç•¥</span>
  <span class="token key atrule">map</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token key atrule">y</span><span class="token punctuation">:</span> b<span class="token punctuation">,</span> <span class="token key atrule">w</span><span class="token punctuation">:</span> m<span class="token punctuation">,</span> <span class="token key atrule">b</span><span class="token punctuation">:</span> e<span class="token punctuation">&#125;</span>
  <span class="token key atrule">people</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> çˆ·çˆ·
    <span class="token punctuation">-</span> çˆ¸çˆ¸
    <span class="token punctuation">-</span> å¦ˆå¦ˆ
    <span class="token punctuation">-</span> å„¿å­
    <span class="token punctuation">-</span> å¤–å…¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æˆ–è€…</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">relation</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> å…³ç³»å›¾1
  <span class="token comment">#è¿™ç§å½¢å¼çš„é…ç½®mapåœ¨é”®ã€å€¼ä¸­éƒ½ä¸èƒ½å‡ºç°è‹±æ–‡(åŠè§’)é€—å·å·,ä¸­æ–‡(å…¨è§’)å¯ä»¥,ä½†æ˜¯åœ¨é”®ä¸­çš„,?ç­‰å…¨è§’æˆ–åŠè§’ç¬¦å·ä¼šè¢«å¿½ç•¥</span>
  <span class="token key atrule">map</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token key atrule">y</span><span class="token punctuation">:</span> b<span class="token punctuation">,</span> <span class="token key atrule">w</span><span class="token punctuation">:</span> m<span class="token punctuation">,</span> <span class="token key atrule">b</span><span class="token punctuation">:</span> e<span class="token punctuation">&#125;</span>
  <span class="token key atrule">people</span><span class="token punctuation">:</span>
    çˆ¸çˆ¸<span class="token punctuation">,</span>
    å„¿å­<span class="token punctuation">,</span>
    çˆ·çˆ·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æˆ–è€…</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">relation</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> å…³ç³»å›¾1
  <span class="token comment">#è¿™ç§å½¢å¼çš„é…ç½®mapåœ¨é”®ã€å€¼ä¸­éƒ½èƒ½å‡ºç°è‹±æ–‡(åŠè§’)é€—å·,åŒæ ·åœ¨é”®ä¸­ä¼šè¢«å¿½ç•¥</span>
  <span class="token key atrule">map</span><span class="token punctuation">:</span>
    <span class="token key atrule">y</span><span class="token punctuation">:</span> çˆ¸çˆ¸
    <span class="token key atrule">w</span><span class="token punctuation">:</span> m
    <span class="token key atrule">b</span><span class="token punctuation">:</span> e
  <span class="token key atrule">people</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>çˆ¸çˆ¸<span class="token punctuation">,</span>çˆ·çˆ·<span class="token punctuation">,</span>å„¿å­<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="é…ç½®æ–‡ä»¶å±æ€§å€¼çš„æ³¨å…¥"><a href="#é…ç½®æ–‡ä»¶å±æ€§å€¼çš„æ³¨å…¥" class="headerlink" title="é…ç½®æ–‡ä»¶å±æ€§å€¼çš„æ³¨å…¥"></a>é…ç½®æ–‡ä»¶å±æ€§å€¼çš„æ³¨å…¥</h3><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨ <code>@Component</code> <code>@ConfigurationProperties(prefix = &quot;relation&quot;)</code>æ³¨å…¥å±æ€§å€¼ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§éœ€è¦ä¸ç±»é‡Œé¢çš„æˆå‘˜å˜é‡çš„åç§°ä¸€</p>
<h4 id="ä½¿ç”¨-Valueæ³¨å…¥å±æ€§"><a href="#ä½¿ç”¨-Valueæ³¨å…¥å±æ€§" class="headerlink" title="ä½¿ç”¨@Valueæ³¨å…¥å±æ€§"></a>ä½¿ç”¨<code>@Value</code>æ³¨å…¥å±æ€§</h4><p>å¦‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token comment">//@ConfigurationProperties(prefix = "relation")ä¸ä½¿ç”¨è¯¥æ³¨è§£é…ç½®</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Relationship</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;relation.name&#125;"</span><span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨@Valueæ³¨å…¥</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">></span></span>  map<span class="token punctuation">;</span><span class="token comment">//@Valueä¸èƒ½ç”¨äºå¤æ‚ç±»å‹</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span> <span class="token class-name">People</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ä¸¤ç§æ³¨è§£å¯¹æ¯”"><a href="#ä¸¤ç§æ³¨è§£å¯¹æ¯”" class="headerlink" title="ä¸¤ç§æ³¨è§£å¯¹æ¯”"></a>ä¸¤ç§æ³¨è§£å¯¹æ¯”</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="left">@ConfigurationProperties</th>
<th>@Value</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1.åº•å±‚æ¡†æ¶</td>
<td align="left">Spring Boot</td>
<td>Spring</td>
</tr>
<tr>
<td align="center">2.åŠŸèƒ½</td>
<td align="left">æ‰¹é‡æ³¨å…¥æ–‡ä»¶ä¸­çš„å±æ€§</td>
<td>å•ä¸ªæ³¨å…¥</td>
</tr>
<tr>
<td align="center">3.setteræ–¹æ³•</td>
<td align="left">éœ€è¦</td>
<td>ä¸éœ€è¦</td>
</tr>
<tr>
<td align="center">4.å¤æ‚ç±»å‹å±æ€§æ³¨å…¥</td>
<td align="left">æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="center">5.æ¾æ•£ç»‘å®š</td>
<td align="left">æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="center">6.JSR303 æ•°æ®æ ¡éªŒ</td>
<td align="left">æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="center">7.SpELlè¡¨è¾¾å¼</td>
<td align="left">ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
</tbody></table>
<p><em><strong>4</strong></em></p>
<p>@ConfigurationPropertiesæ”¯æŒå¤æ‚æ•°æ®ç±»å‹(å¦‚ï¼šMap,List)çš„å±æ€§æ³¨å…¥</p>
<p>@Value åªæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹</p>
<p><em><strong>5</strong></em></p>
<p>  @ConfigurationProperties æ³¨å…¥é…ç½®æ–‡ä»¶å±æ€§æ—¶ï¼Œæ”¯æŒæ¾æ•£ç»‘å®šè¯­æ³•,å¯¹å¤§å°å†™å­—æ¯ä¸æ•æ„Ÿã€‚</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">PERSON.id</span><span class="token punctuation">=</span><span class="token attr-value">1</span>
<span class="token attr-name">person.name</span><span class="token punctuation">=</span><span class="token attr-value">tomcat</span>
<span class="token attr-name">person.Famliy</span><span class="token punctuation">=</span><span class="token attr-value">father</span>
<span class="token attr-name">person.pet.Type</span><span class="token punctuation">=</span><span class="token attr-value">dog</span>
<span class="token attr-name">person.PET.Name</span><span class="token punctuation">=</span><span class="token attr-value">bob</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>@Valuesä½¿ç”¨æ¾æ•£ç»‘å®šè¯­æ³•æ— æ•ˆ</p>
<p><em><strong>6</strong></em></p>
<p> @ConfigurationProperties æ”¯æŒJSR303 æ•°æ®æ ¡éªŒ,å…¶ä¸»è¦ä½œç”¨æ—¶æ ¡éªŒé…ç½®æ–‡ä»¶ä¸­æ³¨å…¥å¯¹åº”Beanå±æ€§çš„å€¼æ˜¯å¦ç¬¦åˆç›¸å…³è§„åˆ™ã€‚å¦‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Validated</span> <span class="token comment">//å¼•å…¥Springæ¡†æ¶æ”¯æŒçš„æ•°æ®æ ¡éªŒè§„åˆ™ï¼Œåªæœ‰åœ¨å¼•å…¥è¯¥æ ‡æ³¨æ—¶é…ç½®é”™è¯¯æ‰ä¼šæŠ¥é”™</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Email</span> <span class="token comment">//è‹¥é…ç½®emailçš„æ ¼å¼ä¸æ˜¯é‚®ç®±æ ¼å¼åˆ™ä¼šæŠ¥é”™</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>7</strong></em></p>
<p>@Value æ³¨è§£åœ¨æ³¨å…¥æ˜¯æ”¯æŒSpELè¡¨è¾¾å¼,å³â€#{xx}â€</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#&#123;5*5&#125;"</span><span class="token punctuation">)</span><span class="token comment">//ç›´æ¥ä½¿ç”¨SpELè¡¨è¾¾å¼ç›´æ¥ä¸ºå±æ€§æ³¨å…¥å€¼</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> number<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h3><p>å…¨å±€æ–‡ä»¶ç”±spring bootè‡ªåŠ¨åŠ è½½é…ç½®ï¼Œè€Œè‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶spring bootæ˜¯æ— æ³•è‡ªåŠ¨è¯†åˆ«çš„ï¼Œéœ€è¦æ‰‹åŠ¨åŠ è½½ã€‚</p>
<h4 id="ä½¿ç”¨-PropertySourceåŠ è½½é…ç½®æ–‡ä»¶"><a href="#ä½¿ç”¨-PropertySourceåŠ è½½é…ç½®æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨@PropertySourceåŠ è½½é…ç½®æ–‡ä»¶"></a>ä½¿ç”¨@PropertySourceåŠ è½½é…ç½®æ–‡ä»¶</h4><p>å¦‚ï¼š</p>
<p>åœ¨resourceä¸‹åˆ›å»ºmyconfigç›®å½•ï¼Œå†åœ¨å…¶ä¸­åˆ›å»ºtestConfigTest.properties</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">config1</span><span class="token punctuation">:</span>
<span class="token attr-name">config1.name</span><span class="token punctuation">=</span><span class="token attr-value">Config Test</span>
<span class="token attr-name">config1.id</span><span class="token punctuation">=</span><span class="token attr-value">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token comment">//è‡ªå®šä¹‰é…ç½®ç±»</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:myConfig/testConfigTest.properties"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">Config01</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment">//å¼€å¯å¯¹åº”é…ç½®ç±»çš„å±æ€§æ³¨å…¥</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"config1"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šé…ç½®æ–‡ä»¶æ³¨å…¥å±æ€§å‰ç¼€</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Config01</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token comment">//çœç•¥setter,getter,toString</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>tips</code> å¦‚è¿‡ä¸ä½¿ç”¨<code>Configuration</code> æ³¨è§£ï¼Œè€Œä½¿ç”¨<code>Component</code>åˆ™<code>@EnableConfigurationProperties(Config01.class)</code>å¯ä»¥çœç•¥ã€‚</p>
<h4 id="ä½¿ç”¨-ImportResourceåŠ è½½XMLé…ç½®æ–‡ä»¶"><a href="#ä½¿ç”¨-ImportResourceåŠ è½½XMLé…ç½®æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨@ImportResourceåŠ è½½XMLé…ç½®æ–‡ä»¶"></a>ä½¿ç”¨@ImportResourceåŠ è½½XMLé…ç½®æ–‡ä»¶</h4><p>1åˆ›å»ºä¸€ä¸ªMyServiceç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"hello ?"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>2åœ¨resourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºbeans.xml</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--é…ç½®myService,classä¸ºå®Œæ•´åŒ…è·¯å¾„--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.config.MyService<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>3åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @ImportResource(â€œclasspath:myConfig&#x2F;beans.xmlâ€)</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//classpathè¡¨ç¤ºåœ¨resourceä¸‹çš„myConfigæ–‡ä»¶å¤¹ä¸‹çš„beans.xmlï¼Œè¿™ä¸€æ­¥å¿…é¡»è¦æœ‰</span>
<span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span><span class="token string">"classpath:myConfig/beans.xml"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootApplication</span> <span class="token comment">//æ ‡è®°ä¸»ç¨‹åºå¯åŠ¨ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chapter01Application</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//.......</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>4ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chapter02ApplicationTests</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span>MyService</span> myService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token comment">//è¿™é‡Œå¯ä»¥ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼Œé¿å…æŠ¥é”™</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>ApplicationContext</span> applicationContext<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">//æŸ¥çœ‹æ˜¯å¦æœ‰idä¸ºmyServiceçš„ç»„ä»¶</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">.</span><span class="token function">containsBean</span><span class="token punctuation">(</span><span class="token string">"myService"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myService<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ä½¿ç”¨-Configurationç¼–å†™è‡ªå®šä¹‰é…ç½®ç±»"><a href="#ä½¿ç”¨-Configurationç¼–å†™è‡ªå®šä¹‰é…ç½®ç±»" class="headerlink" title="ä½¿ç”¨@Configurationç¼–å†™è‡ªå®šä¹‰é…ç½®ç±»"></a>ä½¿ç”¨@Configurationç¼–å†™è‡ªå®šä¹‰é…ç½®ç±»</h4><p>å–æ¶ˆå‰é¢çš„ç¬¬äºŒç¬¬ä¸‰æ­¤é…ç½®ï¼Œç¼–å†™é…ç½®ç±»MyConfig</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token comment">//å®šä¹‰è¯¥ç±»ä¸ºé…ç½®ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span><span class="token comment">//è¿”å›å€¼å¯¹è±¡ä½œä¸ºç»„ä»¶æ·»åŠ åˆ°Springå®¹å™¨ä¸­ï¼Œç»„ä»¶åé»˜è®¤ä¸ºæ–¹æ³•åã€‚</span>
    <span class="token keyword">public</span> <span class="token class-name">MyService</span> <span class="token function">myService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œå‰é¢ç¼–å†™çš„æµ‹è¯•ç±»ï¼Œå¯ä»¥çœ‹åˆ°é…ç½®æˆåŠŸã€‚</p>
<h3 id="Profileå¤šç¯å¢ƒé…ç½®"><a href="#Profileå¤šç¯å¢ƒé…ç½®" class="headerlink" title="Profileå¤šç¯å¢ƒé…ç½®"></a>Profileå¤šç¯å¢ƒé…ç½®</h3><h4 id="ä½¿ç”¨Profileæ–‡ä»¶"><a href="#ä½¿ç”¨Profileæ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Profileæ–‡ä»¶"></a>ä½¿ç”¨Profileæ–‡ä»¶</h4><p>é…ç½®æ–‡ä»¶æ–‡ä»¶åæ»¡è¶³<code>application-&#123;profile&#125;.properties</code> <code>application-&#123;profile&#125;.yaml</code>ä¹Ÿå¯ä»¥</p>
<p>å¦‚åœ¨resourceç›®å½•åˆ›å»º</p>
<p>application-test.properties</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>application-dev.properties</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8081</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>application-prod.properties</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8082</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>åœ¨application.propertiesä¸­é…ç½®</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.profiles.active</span><span class="token punctuation">=</span><span class="token attr-value">dev</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>è¿è¡Œå¯åŠ¨ç±»ï¼Œåˆ™å¯ä»¥æŸ¥çœ‹ç›¸å…³ç«¯å£çš„å˜åŒ–ã€‚</p>
<h4 id="ä½¿ç”¨-Profileæ³¨è§£"><a href="#ä½¿ç”¨-Profileæ³¨è§£" class="headerlink" title="ä½¿ç”¨@Profileæ³¨è§£"></a>ä½¿ç”¨@Profileæ³¨è§£</h4><p>åˆ›å»ºæ¥å£ç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DBConnector</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>åˆ›å»ºä¸‰ä¸ªç±»å®ç°æ¥å£</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"dev"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå¤šç¯å¢ƒé…ç½®ç±»æ ‡è¯†</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DevDBConnector</span> <span class="token keyword">implements</span> <span class="token class-name">DBConnector</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Now is DEV development"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"prod"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProdDBConnector</span> <span class="token keyword">implements</span> <span class="token class-name">DBConnector</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Now is Prod development"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDBConnector</span> <span class="token keyword">implements</span> <span class="token class-name">DBConnector</span><span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨application.propertiesä¸­æ›´æ”¹æŒ‡å®šçš„å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œè¿è¡Œæµ‹è¯•ç›¸å…³åˆ™ä¼šå‡ºç°ä¸åŒçš„ç»“æœã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">SpringWebApplicationTests</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DBConnector</span> dbConnector<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        dbConnector<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="éšæœºå€¼è®¾ç½®ä»¥åŠå‚æ•°å¼•ç”¨"><a href="#éšæœºå€¼è®¾ç½®ä»¥åŠå‚æ•°å¼•ç”¨" class="headerlink" title="éšæœºå€¼è®¾ç½®ä»¥åŠå‚æ•°å¼•ç”¨"></a>éšæœºå€¼è®¾ç½®ä»¥åŠå‚æ•°å¼•ç”¨</h4><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#éšæœºå­—ç¬¦ä¸²</span>
<span class="token attr-name">my.string</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.value&#125;</span>
<span class="token comment">#éšæœºæ•´æ•°</span>
<span class="token attr-name">my.number</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.int&#125;</span>
<span class="token comment">#éšæœºLongå‹æ•´æ•°</span>
<span class="token attr-name">my.longnumber</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.long&#125;</span>
<span class="token comment">#éšæœºUUID</span>
<span class="token attr-name">my.uuid</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.uuid&#125;</span>
<span class="token comment">#å°äº10çš„æ•´æ•°</span>
<span class="token attr-name">my.numberlessten</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.int(10)&#125;</span>
<span class="token comment">#1024-65536ä¹‹é—´çš„æ•°</span>
<span class="token attr-name">mu.numberinrangs</span> <span class="token punctuation">=</span> <span class="token attr-value">$&#123;random.int[1024,65536]&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¾‹å¦‚ï¼š</p>
<p>åˆ›å»ºç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token comment">//ä½¿ç”¨å…¨å±€æ–‡ä»¶å¯ä»¥ä¸ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶ä½ç½®ç­‰</span>
<span class="token comment">//@PropertySource("classpath:")//æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"boy"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Boy</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> uuid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">//çœç•¥setter</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿™é‡Œä½¿ç”¨yamlï¼Œå¦‚æœä½¿ç”¨propertieså¯èƒ½ä¸­æ–‡ä¹±ç ï¼Œè§£å†³æ–¹æ¡ˆå¯ç™¾åº¦</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">boy</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>random.value<span class="token punctuation">&#125;</span>
  <span class="token key atrule">age</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>random.int<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
  <span class="token key atrule">uuid</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>random.uuid<span class="token punctuation">&#125;</span>
  <span class="token key atrule">description</span><span class="token punctuation">:</span> ä¸€ä¸ªå«$<span class="token punctuation">&#123;</span>boy.name<span class="token punctuation">&#125;</span>çš„ç”·å­©çš„UUIDæ˜¯$<span class="token punctuation">&#123;</span>boy.uuid<span class="token punctuation">&#125;</span>ä»–å·²ç»$<span class="token punctuation">&#123;</span>boy.age<span class="token punctuation">&#125;</span>å²äº†.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<details>
    <summary>properties</summary>
    <ul style="list-style-type:none">
        <li>boy.name = ${random.value}</li>
        <li>boy.age = ${random.int[10,20]}</li>
        <li>boy.uuid = ${random.uuid}</li>
        <li>boy.description = ä¸€ä¸ªå«:${boy.name}çš„ç”·å­©çš„UUIDæ˜¯${boy.uuid}ä»–å·²ç»${boy.age}å²äº†.</li>
    </ul>
</details>
## SpringBootæ•°æ®è®¿é—®

<p>Springæä¾›äº†ç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ã€æ”¯æŒäº‘æœåŠ¡çš„å¼€æºæ¡†æ¶Spring Dataã€‚å…¶æä¾›äº†å„ç§ç±»å‹æ•°æ®åº“çš„æ”¯æŒï¼ŒSpringBootå¯¹Dataæ”¯æŒçš„æ•°æ®åº“è¿›è¡Œæ•´åˆç®¡ç†ï¼Œæä¾›äº†å„ç§ä¾èµ–å¯åŠ¨å™¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åç§°</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">spring-boot-starter-data-jpa</td>
<td align="left">Spring Data JPA ä¸ Hibernateçš„å¯åŠ¨å™¨</td>
</tr>
<tr>
<td align="left">spring-boot-starter-data-mongodb</td>
<td align="left">MongoDBå’ŒSpring Data MongoDBçš„å¯åŠ¨å™¨</td>
</tr>
<tr>
<td align="left">spring-boot-starter-data-neo4j</td>
<td align="left">Neo4j å›¾æ•°æ®åº“å’Œ Spring Data Neo4jçš„å¯åŠ¨å™¨</td>
</tr>
<tr>
<td align="left">spring-boot-starter-data-radis</td>
<td align="left">Redisé”®å€¼æ•°æ®å‚¨å­˜ä¸Sping Data Redis å’Œ Jedis å®¢æˆ·ç«¯çš„å¯åŠ¨å™¨</td>
</tr>
</tbody></table>
<p>MyBatis é€‚é…äº†Spring Bootæ¡†æ¶,æä¾›äº† <code>mybatis-spring-boot-starter</code>ä¾èµ–å¯åŠ¨å™¨</p>
<p>ä½¿ç”¨Mybatisè®¿é—®æ•°æ®åº“</p>
<h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><p>åœ¨pom.xmlä¸­æ·»åŠ ä¾èµ–</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- MyBatisä¾èµ–å¯åŠ¨å™¨ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--é˜¿é‡Œå·´å·´Druidæ•°æ®æºä¾èµ–å¯åŠ¨å™¨--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- MySQLæ•°æ®åº“è¿æ¥é©±åŠ¨ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="é…ç½®å‚æ•°"><a href="#é…ç½®å‚æ•°" class="headerlink" title="é…ç½®å‚æ•°"></a>é…ç½®å‚æ•°</h4><p>å…¨å±€æ–‡ä»¶<code>application.properties</code>é…ç½®</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/springbootdata?serverTimezone=UTC</span>
<span class="token attr-name">spring.datasource.username</span><span class="token punctuation">=</span>
<span class="token attr-name">spring.datasource.password</span><span class="token punctuation">=</span>
<span class="token attr-name">spring.datasource.type</span> <span class="token punctuation">=</span> <span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token comment">#ä¸‹é¢çš„å‚æ•°éœ€è¦é…ç½®ç±»é…ç½®</span>
<span class="token attr-name">spring.datasource.initialSize</span><span class="token punctuation">=</span><span class="token attr-value">20</span>
<span class="token attr-name">spring.datasource.minIdle</span><span class="token punctuation">=</span><span class="token attr-value">10</span>
<span class="token attr-name">spring.datasource.maxActive</span><span class="token punctuation">=</span><span class="token attr-value">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="åˆ›å»ºé…ç½®ç±»"><a href="#åˆ›å»ºé…ç½®ç±»" class="headerlink" title="åˆ›å»ºé…ç½®ç±»"></a>åˆ›å»ºé…ç½®ç±»</h4><p>SpringBootæä¾›çš„æ•°æ®æºè‡ªåŠ¨é…ç½®ç±»DataSourcePropertiesä¸­æ²¡æœ‰ä¸è¿™äº›å‚æ•°å¯¹åº”çš„é»˜è®¤å±æ€§ï¼Œæ‰€ä»¥éœ€è¦ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰é…ç½®ç±»ã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataSourceConfig</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.datasource"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">getDruid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="åˆ›å»ºå’Œæ•°æ®åº“ä¸­æ•°æ®ç±»å‹å¯¹åº”çš„ç±»"><a href="#åˆ›å»ºå’Œæ•°æ®åº“ä¸­æ•°æ®ç±»å‹å¯¹åº”çš„ç±»" class="headerlink" title="åˆ›å»ºå’Œæ•°æ®åº“ä¸­æ•°æ®ç±»å‹å¯¹åº”çš„ç±»"></a>åˆ›å»ºå’Œæ•°æ®åº“ä¸­æ•°æ®ç±»å‹å¯¹åº”çš„ç±»</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> a_id<span class="token punctuation">;</span>
    <span class="token comment">//çœç•¥getterï¼Œsetter,toString</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Article</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Comment</span><span class="token punctuation">></span></span> commentList<span class="token punctuation">;</span>
    <span class="token comment">//çœç•¥setter,getter,toString</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis"><a href="#ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis" class="headerlink" title="ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis"></a>ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis</h4><h5 id="åˆ›å»ºMapperæ¥å£æ–‡ä»¶"><a href="#åˆ›å»ºMapperæ¥å£æ–‡ä»¶" class="headerlink" title="åˆ›å»ºMapperæ¥å£æ–‡ä»¶"></a>åˆ›å»ºMapperæ¥å£æ–‡ä»¶</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CommentMapper</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from t_comment where id=#&#123;id&#125;;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Comment</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">"insert into t_comment(id,content,author,a_id) values(#&#123;id&#125;,#&#123;content&#125;,#&#123;author&#125;,#&#123;a_id&#125;);"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insertComment</span><span class="token punctuation">(</span><span class="token class-name">Comment</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">"update t_comment set content=#&#123;content&#125; where id=#&#123;a_id&#125;;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateComment</span><span class="token punctuation">(</span><span class="token class-name">Comment</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Delete</span><span class="token punctuation">(</span><span class="token string">"delete from"</span> <span class="token operator">+</span>
            <span class="token string">" t_comment where id=#&#123;id&#125;;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteComment</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•"><a href="#ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•" class="headerlink" title="ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•"></a>ä½¿ç”¨æµ‹è¯•ç±»æµ‹è¯•</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>chapter03<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">Comment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>chapter03<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">CommentMapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span><span class="token comment">//å¯¼åŒ…ä¸è¦å¯¼æˆå¦å¤–ä¸€ä¸ªç›¸ä¼¼çš„åŒ…ã€‚</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringRunner</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment">//æµ‹è¯•è¿è¡Œå™¨ï¼Œå¹¶åŠ è½½åˆ°SpringBootTestæµ‹è¯•æ³¨è§£</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chapter03ApplicationTests</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CommentMapper</span> commentMapper<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">selectComment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Comment</span> comment <span class="token operator">=</span> commentMapper<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä»£ç ä¸­çš„åç§°å¯ä»¥ä¸æ•°æ®åº“ä¸­çš„ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨é©¼å³°å‘½å,ç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é©¼å³°åŒ¹é…æ˜ å°„è®¾ç½®</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">mybatis.configuration.map-underscore-to-camel-case</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="ä½¿ç”¨é…ç½®æ–‡ä»¶æ•´åˆMyBatis"><a href="#ä½¿ç”¨é…ç½®æ–‡ä»¶æ•´åˆMyBatis" class="headerlink" title="ä½¿ç”¨é…ç½®æ–‡ä»¶æ•´åˆMyBatis"></a>ä½¿ç”¨é…ç½®æ–‡ä»¶æ•´åˆMyBatis</h3><h4 id="åˆ›å»ºArticleMapperæ¥å£"><a href="#åˆ›å»ºArticleMapperæ¥å£" class="headerlink" title="åˆ›å»ºArticleMapperæ¥å£"></a>åˆ›å»ºArticleMapperæ¥å£</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ArticleMapper</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token class-name">Article</span> <span class="token function">selectArticle</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateArticle</span><span class="token punctuation">(</span><span class="token class-name">Article</span> article<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="åˆ›å»ºæ˜ å°„æ–‡ä»¶"><a href="#åˆ›å»ºæ˜ å°„æ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ˜ å°„æ–‡ä»¶"></a>åˆ›å»ºæ˜ å°„æ–‡ä»¶</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.chapter03.mapper.ArticleMapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment">&lt;!--namespaceä¸ºArticleMapperæ‰€åœ¨ä½ç½®--></span>
    <span class="token comment">&lt;!-- 1ã€æŸ¥è¯¢æ–‡ç« è¯¦ç»†ï¼ˆåŒ…æ‹¬è¯„è®ºä¿¡æ¯ï¼‰ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectArticle<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articleWithComment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        SELECT a.*,c.id c_id,c.content c_content,c.author
        FROM t_article a,t_comment c
        WHERE a.id=c.a_id AND a.id = #&#123;id&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articleWithComment<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Article<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>commentList<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Comment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c_id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c_content<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- 2ã€æ ¹æ®æ–‡ç« idæ›´æ–°æ–‡ç« ä¿¡æ¯ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateArticle<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Article<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
        UPDATE t_article
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title !=null and title !=<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                title=#&#123;title&#125;,
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content !=null and content !=<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                content=#&#123;content&#125;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>
        WHERE id=#&#123;id&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="é…ç½®å…¨å±€æ–‡ä»¶ï¼Œé…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„"><a href="#é…ç½®å…¨å±€æ–‡ä»¶ï¼Œé…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„" class="headerlink" title="é…ç½®å…¨å±€æ–‡ä»¶ï¼Œé…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„"></a>é…ç½®å…¨å±€æ–‡ä»¶ï¼Œé…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„</h4><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#é…ç½®MyBatisçš„XMLæ–‡ä»¶è·¯å¾„</span>
<span class="token attr-name">mybatis.mapper-locations</span><span class="token punctuation">=</span><span class="token attr-value">classpath:mapper/*xml</span>
<span class="token comment">#é…ç½®XMLæ–‡ä»¶ä¸­æŒ‡å®šçš„å®ä½“ç±»åè·¯å¾„ç²¾ç¡®åˆ°åŒ…å</span>
<span class="token attr-name">mybatis.type-aliases-package</span><span class="token punctuation">=</span><span class="token attr-value">com.chapter03.domain</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
   <span class="token keyword">private</span> <span class="token class-name">ArticleMapper</span> articleMapper<span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Test</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">ArticleTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
       <span class="token class-name">Article</span> article <span class="token operator">=</span> articleMapper<span class="token punctuation">.</span><span class="token function">selectArticle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Spring-boot-è§†å›¾æŠ€æœ¯"><a href="#Spring-boot-è§†å›¾æŠ€æœ¯" class="headerlink" title="Spring boot è§†å›¾æŠ€æœ¯"></a>Spring boot è§†å›¾æŠ€æœ¯</h2><h3 id="ThymeleafåŸºæœ¬è¯­æ³•"><a href="#ThymeleafåŸºæœ¬è¯­æ³•" class="headerlink" title="ThymeleafåŸºæœ¬è¯­æ³•"></a>ThymeleafåŸºæœ¬è¯­æ³•</h3><p>Thymeleafä¾èµ–</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--xmlns:th=å¼•å…¥Thymeleafæ¨¡æ¿å¼•æ“--></span>
<span class="token comment">&lt;!--thæ ‡ç­¾æ˜¯Thymeleafæä¾›çš„æ¨¡æ¿æ ‡ç­¾--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Thymeleafå¸¸ç”¨æ ‡ç­¾</p>
<table>
<thead>
<tr>
<th><strong>th:insert</strong></th>
<th><strong>é¡µé¢ç‰‡æ®µåŒ…å«ï¼ˆç±»ä¼¼</strong>JSPä¸­çš„includeæ ‡ç­¾ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>th:replace</td>
<td>é¡µé¢ç‰‡æ®µåŒ…å«ï¼ˆç±»ä¼¼JSPä¸­çš„includeæ ‡ç­¾ï¼‰</td>
</tr>
<tr>
<td>th:each</td>
<td>å…ƒç´ éå†ï¼ˆç±»ä¼¼JSPä¸­çš„c:forEachæ ‡ç­¾ï¼‰</td>
</tr>
<tr>
<td>th:if</td>
<td>æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœä¸ºçœŸ</td>
</tr>
<tr>
<td>th:unless</td>
<td>æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœä¸ºå‡</td>
</tr>
<tr>
<td>th:switch</td>
<td>æ¡ä»¶åˆ¤æ–­ï¼Œè¿›è¡Œé€‰æ‹©æ€§åŒ¹é…</td>
</tr>
<tr>
<td>th:case</td>
<td>æ¡ä»¶åˆ¤æ–­ï¼Œè¿›è¡Œé€‰æ‹©æ€§åŒ¹é…</td>
</tr>
<tr>
<td>th:object</td>
<td>å˜é‡å£°æ˜</td>
</tr>
<tr>
<td>th:with</td>
<td>å˜é‡å£°æ˜</td>
</tr>
<tr>
<td>th:attr</td>
<td>é€šç”¨å±æ€§ä¿®æ”¹</td>
</tr>
<tr>
<td>th:attrprepend</td>
<td>é€šç”¨å±æ€§ä¿®æ”¹ï¼Œå°†è®¡ç®—ç»“æœè¿½åŠ å‰ç¼€åˆ°ç°æœ‰å±æ€§å€¼</td>
</tr>
<tr>
<td>th:attrappend</td>
<td>é€šç”¨å±æ€§ä¿®æ”¹ï¼Œå°†è®¡ç®—ç»“æœè¿½åŠ åç¼€åˆ°ç°æœ‰å±æ€§å€¼</td>
</tr>
<tr>
<td>th:value</td>
<td>å±æ€§å€¼ä¿®æ”¹ï¼ŒæŒ‡å®šæ ‡ç­¾å±æ€§å€¼</td>
</tr>
<tr>
<td>th:href</td>
<td>ç”¨äºè®¾å®šé“¾æ¥åœ°å€</td>
</tr>
<tr>
<td>th:src</td>
<td>ç”¨äºè®¾å®šé“¾æ¥åœ°å€</td>
</tr>
<tr>
<td>th:text</td>
<td>ç”¨äºæŒ‡å®šæ ‡ç­¾æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹</td>
</tr>
<tr>
<td>th:utext</td>
<td>ç”¨äºæŒ‡å®šæ ‡ç­¾æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹ï¼Œå¯¹ç‰¹æ®Šæ ‡ç­¾ä¸è½¬ä¹‰</td>
</tr>
<tr>
<td>th:fragment</td>
<td>å£°æ˜ç‰‡æ®µ</td>
</tr>
<tr>
<td>th:remove</td>
<td>ç§»é™¤ç‰‡æ®µ</td>
</tr>
</tbody></table>
<p>å¦‚ï¼š</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mb-4<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;/img/img.jpg&#125;<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="æ ‡å‡†è¡¨è¾¾å¼"><a href="#æ ‡å‡†è¡¨è¾¾å¼" class="headerlink" title="æ ‡å‡†è¡¨è¾¾å¼"></a>æ ‡å‡†è¡¨è¾¾å¼</h4><table>
<thead>
<tr>
<th><strong>è¯´æ˜</strong></th>
<th><strong>è¡¨è¾¾å¼è¯­æ³•</strong></th>
</tr>
</thead>
<tbody><tr>
<td>å˜é‡è¡¨è¾¾å¼</td>
<td>${â€¦}</td>
</tr>
<tr>
<td>é€‰æ‹©å˜é‡è¡¨è¾¾å¼</td>
<td>*{â€¦}</td>
</tr>
<tr>
<td>æ¶ˆæ¯è¡¨è¾¾å¼</td>
<td>#{â€¦}</td>
</tr>
<tr>
<td>é“¾æ¥URLè¡¨è¾¾å¼</td>
<td>@{â€¦}</td>
</tr>
<tr>
<td>ç‰‡æ®µè¡¨è¾¾å¼</td>
<td>~{â€¦}</td>
</tr>
</tbody></table>
<p>Thymeleafä¸ºæ‰€åœ¨å˜é‡æ‰€åœ¨åŸŸæä¾›äº†ä¸€äº›å†…ç½®å¯¹è±¡</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>#ctx</td>
<td>ä¸Šä¸‹æ–‡å¯¹è±¡</td>
</tr>
<tr>
<td>#vars</td>
<td>ä¸Šä¸‹æ–‡å˜é‡</td>
</tr>
<tr>
<td>#locale</td>
<td>ä¸Šä¸‹æ–‡åŒºåŸŸè®¾ç½®</td>
</tr>
<tr>
<td>#request</td>
<td>ï¼ˆä»…é™Web Contextï¼‰HttpServletRequestå¯¹è±¡</td>
</tr>
<tr>
<td>#response</td>
<td>ï¼ˆä»…é™Web Contextï¼‰HttpServletResponseå¯¹è±¡</td>
</tr>
<tr>
<td>#session</td>
<td>ï¼ˆä»…é™Web Contextï¼‰HttpSessionå¯¹è±¡</td>
</tr>
<tr>
<td>#servletContext</td>
<td>ï¼ˆä»…é™Web Contextï¼‰ServletContextå¯¹è±¡</td>
</tr>
</tbody></table>
<h4 id="é€‰æ‹©å˜é‡è¡¨è¾¾å¼"><a href="#é€‰æ‹©å˜é‡è¡¨è¾¾å¼" class="headerlink" title="é€‰æ‹©å˜é‡è¡¨è¾¾å¼"></a>é€‰æ‹©å˜é‡è¡¨è¾¾å¼</h4><p><a name="m1">ä¾‹å¦‚</a></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;session.user&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment">&lt;!--ä»sessionä¸­è·å–Userå¯¹è±¡,Userå¯¹è±¡åœ¨ä¹‹å‰å·²ç»æ·»åŠ åˆ°äº†sessionä¸­
    &lt;p>åœ°åŒº:&lt;span th:text="$&#123;#locale.country&#125;">&lt;/span>&lt;/p>&lt;!--è·å–å›½å®¶--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>firstName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#object.firstName&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„firstName--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>lastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;session.user.lastName&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„lastName--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æ€§åˆ«<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*&#123;sex&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„sex--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è¿æ¥è¡¨è¾¾å¼"><a href="#è¿æ¥è¡¨è¾¾å¼" class="headerlink" title="è¿æ¥è¡¨è¾¾å¼"></a>è¿æ¥è¡¨è¾¾å¼</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.baidu.com<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;https://www.baidu.com&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="ç‰‡æ®µè¡¨è¾¾å¼"><a href="#ç‰‡æ®µè¡¨è¾¾å¼" class="headerlink" title="ç‰‡æ®µè¡¨è¾¾å¼"></a>ç‰‡æ®µè¡¨è¾¾å¼</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~&#123;test::p&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--é€šè¿‡inseræ’å…¥classpath:/resources/templates/ä¸‹test.htmlç”¨pæ ‡ç­¾åŒ…å«çš„ç‰‡æ®µ--></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="ThymeleafåŸºæœ¬ä½¿ç”¨"><a href="#ThymeleafåŸºæœ¬ä½¿ç”¨" class="headerlink" title="ThymeleafåŸºæœ¬ä½¿ç”¨"></a>ThymeleafåŸºæœ¬ä½¿ç”¨</h3><h4 id="é™æ€é¡µé¢çš„è®¿é—®"><a href="#é™æ€é¡µé¢çš„è®¿é—®" class="headerlink" title="é™æ€é¡µé¢çš„è®¿é—®"></a>é™æ€é¡µé¢çš„è®¿é—®</h4><p><code>classpath</code>æ˜¯springbooté¡¹ç›®çš„resourcesç›®å½•ã€‚ç”Ÿæˆtargetæ—¶å°±æ˜¯targetä¸‹çš„classes</p>
<p><code>classpath:/META-INF/resources/</code> <code>classpath:/resources/</code> <code>closspath:/static/</code> <code>classpath:/public/</code>ä¸‹éƒ½å¯ä»¥å­˜æ”¾é™æ€èµ„æºï¼Œå¯¹äºè¿™äº›æ–‡ä»¶å¤¹ä¸‹çš„é™æ€èµ„æºå¯ä»¥ç›´æ¥é€šè¿‡<code>åŸŸå:ç«¯å£/</code>+<code>è·¯å¾„</code>è®¿é—®</p>
<h4 id="ä½¿ç”¨Thymeleaf"><a href="#ä½¿ç”¨Thymeleaf" class="headerlink" title="ä½¿ç”¨Thymeleaf"></a>ä½¿ç”¨Thymeleaf</h4><p>é…ç½®æ¨¡æ¿å‚æ•°</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># æ˜¯å¦å¯ç”¨æ¨¡æ¿ç¼“å­˜,å¼€å‘æ˜¯false,è¿è¥æ˜¯true</span>
<span class="token attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
<span class="token comment">#æ¨¡æ¿ç¼–ç </span>
<span class="token attr-name">spring.thymeleaf.encoding</span><span class="token punctuation">=</span><span class="token attr-value">utf-8</span>
<span class="token comment">#åº”ç”¨äºæ¨¡æ¿çš„æ¨¡æ¿æ¨¡å¼</span>
<span class="token attr-name">spring.thymeleaf.mode</span><span class="token punctuation">=</span><span class="token attr-value">HTML5</span>
<span class="token comment">#æŒ‡å®šæ¨¡æ¿é¡µé¢å­˜æ”¾è·¯å¾„,é»˜è®¤æ˜¯åœ¨resources/templates/</span>
<span class="token attr-name">spring.thymeleaf.prefix</span><span class="token punctuation">=</span><span class="token attr-value">classpath:/templates/</span>
<span class="token comment">#æŒ‡å®šæ¨¡æ¿é¡µé¢åç§°åç¼€</span>
<span class="token attr-name">spring.thymeleaf.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.html</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åˆ›å»ºWebæ§åˆ¶ç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//@ResponseBody</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/index"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">//å°†Userå¯¹è±¡åŠ å…¥session,ç”¨äºæ¨¡æ¿é¡µé¢çš„ä½¿ç”¨</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Parker"</span><span class="token punctuation">,</span><span class="token string">"Petter"</span><span class="token punctuation">,</span><span class="token string">"ç”·"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token comment">//è·³è½¬templatesä¸‹çš„index.html</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸€ä¸ªUserç±»</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>
    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token class-name">String</span> sex<span class="token punctuation">;</span>
    <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span><span class="token class-name">String</span> lastName<span class="token punctuation">,</span><span class="token class-name">String</span> sex<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">//çœç•¥getterå’Œsetter</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨resourcesç›®å½•ä¸‹çš„templatesä¸‹åˆ›å»ºæ¨¡æ¿é¡µé¢<code>index.html</code></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;session.user&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment">&lt;!--ä»sessionä¸­è·å–Userå¯¹è±¡,Userå¯¹è±¡åœ¨ä¹‹å‰å·²ç»æ·»åŠ åˆ°äº†sessionä¸­
    &lt;p>åœ°åŒº:&lt;span th:text="$&#123;#locale.country&#125;">&lt;/span>&lt;/p>&lt;!--è·å–å›½å®¶--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>firstName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#object.firstName&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„firstName--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>lastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;session.user.lastName&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„lastName--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æ€§åˆ«<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*&#123;sex&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--è·å–userçš„sex--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.baidu.com<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;https://www.baidu.com&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¿™é‡Œæ˜¯è¿æ¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~&#123;test::p&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œé¡¹ç›®ï¼Œè®¿é—®indexå°±ä¼šæ˜¾ç¤ºæ¨¡æ¿é¡µé¢çš„å†…å®¹ã€‚</p>
<h4 id="ä½¿ç”¨Thymeleafé…ç½®å›½é™…åŒ–é¡µé¢"><a href="#ä½¿ç”¨Thymeleafé…ç½®å›½é™…åŒ–é¡µé¢" class="headerlink" title="ä½¿ç”¨Thymeleafé…ç½®å›½é™…åŒ–é¡µé¢"></a>ä½¿ç”¨Thymeleafé…ç½®å›½é™…åŒ–é¡µé¢</h4></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>è½èŠ±ç”Ÿ</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://dbin.top/2022/03/02/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Spring%20Boot%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Spring Boot å­¦ä¹ ç¬”è®°">https://dbin.top/2022/03/02/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Spring%20Boot%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/02/24/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/MongoDB%20Java%20Driver/" rel="next" title="MongoDB Java Driver"><span class="post-nav-text">MongoDB Java Driver</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2022 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="https://www.yunyoujun.cn/" title="ç½‘ç«™æºç æ¥è‡ª"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author"> è½èŠ±ç”Ÿ</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.0.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.2</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-06-18T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#4fcde3" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4","5-12","9-18"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div></body></html>